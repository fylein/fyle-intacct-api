version: '3.7'

services:
  integration_test:
    build:
      context: ../..
      dockerfile: tests/integration_tests/Dockerfile.integration_test
    working_dir: /
    volumes:
      - ../../tests/integration_tests:/tests/integration_tests
    environment:
      # SOAP credentials
      - INTEGRATION_TEST_INTACCT_SENDER_ID=${INTEGRATION_TEST_INTACCT_SENDER_ID}
      - INTEGRATION_TEST_INTACCT_SENDER_PASSWORD=${INTEGRATION_TEST_INTACCT_SENDER_PASSWORD}
      - INTEGRATION_TEST_INTACCT_USER_ID=${INTEGRATION_TEST_INTACCT_USER_ID}
      - INTEGRATION_TEST_INTACCT_COMPANY_ID=${INTEGRATION_TEST_INTACCT_COMPANY_ID}
      - INTEGRATION_TEST_INTACCT_USER_PASSWORD=${INTEGRATION_TEST_INTACCT_USER_PASSWORD}
      - INTEGRATION_TEST_INTACCT_ENTITY_ID=${INTEGRATION_TEST_INTACCT_ENTITY_ID}
      
      # REST credentials
      - INTEGRATION_TEST_INTACCT_CLIENT_ID=${INTEGRATION_TEST_INTACCT_CLIENT_ID}
      - INTEGRATION_TEST_INTACCT_CLIENT_SECRET=${INTEGRATION_TEST_INTACCT_CLIENT_SECRET}

      # Internal API credentials
      - INTEGRATION_TEST_INTERNAL_API_URL=${INTEGRATION_TEST_INTERNAL_API_URL}
      - INTEGRATION_TEST_INTERNAL_API_TOKEN=${INTEGRATION_TEST_INTERNAL_API_TOKEN}
      - INTEGRATION_TEST_INTERNAL_API_WORKSPACE_ID=${INTEGRATION_TEST_INTERNAL_API_WORKSPACE_ID}
